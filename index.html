<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel do Administrador</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

  <div class="container mt-5">
    <h1 class="mb-4">Painel do Administrador</h1>

    <!-- Cadastro de professor -->
    <div class="card mb-4">
      <div class="card-header">Cadastrar Novo Professor</div>
      <div class="card-body">
        <form id="form-cadastro">
          <div class="mb-3">
            <label for="nomeProfessor" class="form-label">Nome do Professor</label>
            <input type="text" class="form-control" id="nomeProfessor" required>
          </div>
          <div class="mb-3">
            <label for="emailProfessor" class="form-label">Email</label>
            <input type="email" class="form-control" id="emailProfessor" required>
          </div>
          <button type="submit" class="btn btn-primary">Cadastrar</button>
        </form>
      </div>
    </div>

    <!-- Lista de professores -->
    <div class="card">
      <div class="card-header">Professores Cadastrados</div>
      <ul class="list-group list-group-flush" id="listaProfessores"></ul>
    </div>

    <div class="mt-4">
      <a href="index.html" class="btn btn-secondary">Voltar para Login</a>
    </div>
  </div>

  <script>
    const listaProfessores = document.getElementById('listaProfessores');
    const form = document.getElementById('form-cadastro');

    // Carrega os professores ao iniciar
    document.addEventListener('DOMContentLoaded', carregarProfessores);

    function carregarProfessores() {
      const professores = JSON.parse(localStorage.getItem('professores')) || [];
      listaProfessores.innerHTML = '';

      professores.forEach((prof, index) => {
        const li = document.createElement('li');
        li.className = 'list-group-item d-flex justify-content-between align-items-center';
        li.innerHTML = `
          <div>
            <strong>${prof.nome}</strong> - ${prof.email}
          </div>
          <div>
            <button class="btn btn-sm btn-success me-2" onclick="acessarPainel('${prof.email}')">Acessar</button>
            <button class="btn btn-sm btn-danger" onclick="excluirProfessor(${index})">Excluir</button>
          </div>
        `;
        listaProfessores.appendChild(li);
      });
    }

    form.addEventListener('submit', function(e) {
      e.preventDefault();
      const nome = document.getElementById('nomeProfessor').value;
      const email = document.getElementById('emailProfessor').value;

      const professores = JSON.parse(localStorage.getItem('professores')) || [];
      professores.push({ nome, email });
      localStorage.setItem('professores', JSON.stringify(professores));

      form.reset();
      carregarProfessores();
    });

    function excluirProfessor(index) {
      const professores = JSON.parse(localStorage.getItem('professores')) || [];
      professores.splice(index, 1);
      localStorage.setItem('professores', JSON.stringify(professores));
      carregarProfessores();
    }

    function acessarPainel(email) {
      localStorage.setItem('professorLogado', email);
      window.location.href = 'index.html'; // redireciona para a p√°gina principal do sistema
    }
  </script>
</body>
</html>